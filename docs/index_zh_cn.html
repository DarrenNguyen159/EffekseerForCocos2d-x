<!DOCTYPE html>
<html>

<head>
	<meta charset=utf-8>
	<title>Effekseer For Cocos2d-x</title>
	<link href="base.css" rel="stylesheet" type="text/css" />
</head>

<body>
	<div class="main">
		<h1>Effekseer For Cocos2d-x</h1>
		
		<h2>摘要</h2>

		<p>
        Effekseer是一个工具，你可以轻松地创建一个美丽的粒子效果。该库将能够播放在Effekseer在Cocos2d-x创建一个粒子效果。
        本文档介绍Effekseer和Cocos2d-x的合作。
        库是由一个以上的源代码的文件，它可以通过将源代码的文件的Cocos2d-x的项目进行安装。
		</p>

		<p>
		相应的环境是如下。
		</p>

		<table>
			<tr>
				<td>Windows</td>
				<td>OK</td>
			</tr>

			<tr>
				<td>Mac OS X</td>
				<td>OK</td>
			</tr>

			<tr>
				<td>Linux</td>
				<td>Unknown</td>
			</tr>

			<tr>
				<td>iOS</td>
				<td>OK</td>
			</tr>

			<tr>
				<td>Android</td>
				<td>OK</td>
			</tr>

			<tr>
				<td>WindowsPhone</td>
				<td>Unknown</td>
			</tr>

		</table>

		<h2>如何安装</h2>
		<p>
		<b>Players/Cocos2d-x_v3</b>的目录存在的以下文件。
		</p>

<ul>
<li>Effekseer.cpp</li>
<li>Effekseer.h</li>
<li>EffekseerNative.cpp</li>
<li>EffekseerNative.h</li>
<li>EffekseerRendererNative.cpp</li>
<li>EffekseerRendererNative.h</li>
</ul>

		<p>
		这些文件复制到的Cocos2d-x的项目，请添加到对象进行编译。
		</p>


		<h2>如何使用</h2>

<p>
在<b>Samples/</b>在Cocos2d-x目录是发挥Effekseer的粒子效果的样本。请详细的使用是一看样品，因为只介绍基本用法是本文件中。
</p>

<p>
这些样品，不包含此库，请复制文件的<b>Classes/Effekseer</b>目录的每个样本。
它存在于一个名为<b>copyEffekseerFiles.txt</b>复制与您要复制的库上一层目录的标志文件的目标目录。
</p>

<h3>有关可播放的文件</h3>

<p>
Effekseerの標準出力で保存したファイルのみ再生できます。保存されたファイルにはEffekseerのプロジェクトから画像への相対パスが含まれています。
そのため、標準出力で保存されたファイルから画像への相対パスを維持したまま、画像も配置する必要があります。

您只可以播放保存在Effekseer的标准输出文件。 保存的文件中包含从项目的Effekseer图像的相对路径。 因此，在保持从已保存在一个标准输出到图像文件的相对路径，则需要图像的排列。

</p>

<h3>基本播放</h3>

<p>
Effekseerの標準出力で保存したエフェクトファイルをcocos2d-xで再生します。詳しくは<b>Samples/Simple/</b>に保存されているソースコードを見てください。

您在Effekseer的标准输出保存效果文件中的cocos2d-X玩。 欲了解更多信息，请查看存储在Samples /简单/源代码。
</p>

<br>

<p>
Effekseer.hをインクルードします。
它包括Effekseer.h。
</p>

<pre>
#include "Effekseer/Effekseer.h"
</pre>
<br>

<p>
cocos2d的继承::层增加EFK :: EffectManager *类的成员变量。
cocos2d::Layerを継承したクラスのメンバ変数にefk::EffectManager*を加えます。
</p>

<pre>
class HelloWorld : public cocos2d::Layer {
efk::EffectManager* manager = nullptr;
...
</pre>
<br>

<p>
生成EFK :: EffectManager *实例。
efk::EffectManager*のインスタンスを生成します。
</p>

<pre>
manager = efk::EffectManager::create(Director::getInstance()->getVisibleSize());
</pre>
<br>

<p>
负荷的影响分析文件。
エフェクトファイルを読み込みます。
</p>

<pre>
auto effect = efk::Effect::create("Laser01.efk");
</pre>
<br>

<p>
它产生的发射极，并通过将参数添加到该层。
エミッターを生成し、パラメーターを設定してレイヤーに追加します。
</p>

<pre>
auto emitter = efk::EffectEmitter::create(manager);
emitter->setEffect(effect);
emitter->setPlayOnEnter(true);

emitter->setPosition(Vec2(300, 300));
emitter->setScale(20);
this->addChild(emitter, 0);

effect->release();
</pre>

<p>
毎フレーム、マネージャーを更新します。
每一帧，然后更新管理器。
</p>

<pre>
manager->update();
</pre>
<br>

<p>
visitを継承して、エフェクトを実際に描画する処理を追加します。
继承访问，然后添加的实际绘制效果的过程。
</p>

<pre>
void HelloWorld::visit(
	cocos2d::Renderer *renderer, 
	const cocos2d::Mat4& parentTransform, 
	uint32_t parentFlags)
{
	manager->begin(renderer, _globalZOrder);
	cocos2d::Layer::visit(renderer, parentTransform, parentFlags);
	manager->end(renderer, _globalZOrder);
}
</pre>
<br>

<p>
让我们摧毁经理在年底。
終了時にマネージャーを破棄しましょう。
</p>

<pre>
HelloWorld::~HelloWorld()
{
	manager->release();
}
</pre>

		<h2>许可证</h2>

<p>
Effekseerを使用する場合は、ヘルプ等に以下の文面を加える必要があります。
如果你想使用Effekseer，你需要添加下面的措辞来帮助等等。
</p>

<pre>
The MIT License (MIT)

Copyright (c) 2011 Effekseer Project

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


DirectX Tool Kit
https://directxtk.codeplex.com/
Microsoft Public License (Ms-PL)

</pre>

		<h2>更新日志</h2>
		<p>1.xx (xx/xx/xx) 被释放。</p>

	</div>
</body>

</html>

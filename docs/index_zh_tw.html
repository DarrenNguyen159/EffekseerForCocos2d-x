<!DOCTYPE html>
<html>

<head>
	<meta charset=utf-8>
	<title>Effekseer For Cocos2d-x</title>
	<link href="base.css" rel="stylesheet" type="text/css" />
</head>

<body>
	<div class="main">
		<h1>Effekseer For Cocos2d-x</h1>
		
		<h2>摘要</h2>

		<p>
		Effekseerは簡単に綺麗なパーティクルエフェクトを作成できるツールです。このライブラリはEffekseerで作成されたパーティクルエフェクトをCocos2d-xで再生できるようにします。
		このドキュメントではEffekseerとCocos2d-xの連携について説明します。
		ライブラリは複数のソースコードのファイルで構成されており、そのソースコードのファイルをCocos2d-xのプロジェクトに追加することでインストールできます。
        
        
        Effekseer是一個工具，你可以輕鬆地創建一個美麗的粒子效果。 該庫將能夠播放在Effekseer在cocos2d-X創建一個粒子效果。 本文檔介紹Effekseer和Cocos2d-x的合作。 庫是由一個以上的源代碼的文件，它可以通過將源代碼的文件的cocos2d-x的項目進行安裝。
		</p>

		<p>
		対応環境は以下のようになります。
        相應的環境是如下。
		</p>

		<table>
			<tr>
				<td>Windows</td>
				<td>OK</td>
			</tr>

			<tr>
				<td>Mac OS X</td>
				<td>OK</td>
			</tr>

			<tr>
				<td>Linux</td>
				<td>Unknown</td>
			</tr>

			<tr>
				<td>iOS</td>
				<td>OK</td>
			</tr>

			<tr>
				<td>Android</td>
				<td>OK</td>
			</tr>

			<tr>
				<td>WindowsPhone</td>
				<td>Unknown</td>
			</tr>

		</table>

		<h2>如何安裝</h2>
		<p>
		<b>Players/Cocos2d-x_v3</b>的目錄存在的以下文件。
		</p>

<ul>
<li>Effekseer.cpp</li>
<li>Effekseer.h</li>
<li>EffekseerNative.cpp</li>
<li>EffekseerNative.h</li>
<li>EffekseerRendererNative.cpp</li>
<li>EffekseerRendererNative.h</li>
</ul>

		<p>
		這些文件複製到的Cocos2d-x的項目，請添加到對象進行編譯。
		</p>


		<h2>如何使用</h2>

<p>
<b>Samples/</b>ディレクトリにCocos2d-xでEffekseerのパーティクルエフェクトを再生するサンプルがあります。このドキュメントでは基本的な使い方しか説明しないので詳しい使い方はサンプルを見てください。

在樣本/在cocos2d-X目錄是發揮Effekseer的粒子效果的樣本。 請詳細的使用是一看樣品，因為只介紹基本用法是本文件中。

</p>

<p>
これらのサンプルには、このライブラリは含まれていないため、
それぞれのサンプルの<b>Classes/Effekseer</b>ディレクトリにライブラリのファイルをコピーしてください。
目印のために、コピーする先のディレクトリには<b>copyEffekseerFiles.txt</b>というファイルがあらかじめ保存されています。

這些樣品，不包含此庫，請複製文件的類庫/ Effekseer目錄的每個樣本。

它存在於一個名為copyEffekseerFiles.txt複製與您要複製的庫上一層目錄的標誌文件的目標目錄。

</p>

<h3>有關可播放的文件</h3>

<p>
Effekseerの標準出力で保存したファイルのみ再生できます。保存されたファイルにはEffekseerのプロジェクトから画像への相対パスが含まれています。
そのため、標準出力で保存されたファイルから画像への相対パスを維持したまま、画像も配置する必要があります。

您只可以播放保存在Effekseer的標準輸出文件。 保存的文件中包含從項目的Effekseer圖像的相對路徑。 因此，在保持從已保存在一個標準輸出到圖像文件的相對路徑，則需要圖像的排列。

</p>

<h3>基本播放</h3>

<p>
Effekseerの標準出力で保存したエフェクトファイルをcocos2d-xで再生します。詳しくは<b>Samples/Simple/</b>に保存されているソースコードを見てください。

您在Effekseer的標準輸出保存效果文件中的cocos2d-X玩。 欲了解更多信息，請查看存儲在Samples /簡單/源代碼。
</p>

<br>

<p>
Effekseer.hをインクルードします。
</p>

<pre>
#include "Effekseer/Effekseer.h"
</pre>
<br>

<p>
cocos2d::Layerを継承したクラスのメンバ変数にefk::EffectManager*を加えます。
</p>

<pre>
class HelloWorld : public cocos2d::Layer {
efk::EffectManager* manager = nullptr;
...
</pre>
<br>

<p>
efk::EffectManager*のインスタンスを生成します。
</p>

<pre>
manager = efk::EffectManager::create(Director::getInstance()->getVisibleSize());
</pre>
<br>

<p>
エフェクトファイルを読み込みます。
</p>

<pre>
auto effect = efk::Effect::create("Laser01.efk");
</pre>
<br>

<p>
エミッターを生成し、パラメーターを設定してレイヤーに追加します。
</p>

<pre>
auto emitter = efk::EffectEmitter::create(manager);
emitter->setEffect(effect);
emitter->setPlayOnEnter(true);

emitter->setPosition(Vec2(300, 300));
emitter->setScale(20);
this->addChild(emitter, 0);

effect->release();
</pre>

<p>
毎フレーム、マネージャーを更新します。
</p>

<pre>
manager->update();
</pre>
<br>

<p>
visitを継承して、エフェクトを実際に描画する処理を追加します。
</p>

<pre>
void HelloWorld::visit(
	cocos2d::Renderer *renderer, 
	const cocos2d::Mat4& parentTransform, 
	uint32_t parentFlags)
{
	manager->begin(renderer, _globalZOrder);
	cocos2d::Layer::visit(renderer, parentTransform, parentFlags);
	manager->end(renderer, _globalZOrder);
}
</pre>
<br>

<p>
終了時にマネージャーを破棄しましょう。
</p>

<pre>
HelloWorld::~HelloWorld()
{
	manager->release();
}
</pre>

		<h2>ライセンス</h2>

<p>
Effekseerを使用する場合は、ヘルプ等に以下の文面を加える必要があります。
</p>

<pre>
The MIT License (MIT)

Copyright (c) 2011 Effekseer Project

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
the Software, and to permit persons to whom the Software is furnished to do so,
subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.


DirectX Tool Kit
https://directxtk.codeplex.com/
Microsoft Public License (Ms-PL)

</pre>

		<h2>更新履歴</h2>
		<p>1.xx (xx/xx/xx) 公開しました。</p>

	</div>
</body>

</html>
